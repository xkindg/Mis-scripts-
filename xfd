local a="ESTA ES UNA LLAVE MAESTRA DE EJEMPLO CAMBIAME POR ALGO SEGURO Y COMPLEJO"local b="avatar_guardado.json"local c="PuenteDeAvatares"local d=game:GetService("Players")local e=game:GetService("ReplicatedStorage")local f=game:GetService("StarterGui")local g=game:GetService("HttpService")local h=d.LocalPlayer;local function i(j)local k=""local l=tostring(j):reverse()for m=1,#a do local n=string.byte(l,(m-1)%#l+1)or 97;local o=string.byte(a,m)k=k..string.char(bit32.bxor(o,n))end;return k end;local function p(q,j)local r=i(j)if#r==0 then return q end;local s=""for m=1,#q do local t=string.byte(q,m)local u=string.byte(r,(m-1)%#r+1)s=s..string.char(bit32.bxor(t,u))end;return s end;function generateBrookhavenScript(v)local w={'-- Script para Brookhaven'}table.insert(w,'pcall(function() game:GetService("ReplicatedStorage").Remotes.ResetCharacterAppearance:FireServer() end); wait(0.5)')table.insert(w,'local function applyOutfit()')local x={}if v.Shirt~=0 then table.insert(x,v.Shirt)end;if v.Pants~=0 then table.insert(x,v.Pants)end;if v.GraphicTShirt~=0 then table.insert(x,v.GraphicTShirt)end;for y,z in ipairs(v:GetAccessories(true))do if z.AssetId~=0 then table.insert(x,z.AssetId)end end;if v.WalkAnimation~=0 then table.insert(x,v.WalkAnimation)end;if v.RunAnimation~=0 then table.insert(x,v.RunAnimation)end;if v.JumpAnimation~=0 then table.insert(x,v.JumpAnimation)end;if v.FallAnimation~=0 then table.insert(x,v.FallAnimation)end;if v.ClimbAnimation~=0 then table.insert(x,v.ClimbAnimation)end;if v.SwimAnimation~=0 then table.insert(x,v.SwimAnimation)end;if v.IdleAnimation~=0 then table.insert(x,v.IdleAnimation)end;for y,A in ipairs(x)do table.insert(w,'    wait(0.1)')table.insert(w,'    local args = {[1] = '..A..' }')table.insert(w,'    pcall(function() game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args)) end)')end;table.insert(w,'    wait(0.4)')table.insert(w,'    local bodyArgs = {[1]={[1]='..(v.Torso or 0)..',[2]='..(v.RightArm or 0)..',[3]='..(v.LeftArm or 0)..',[4]='..(v.RightLeg or 0)..',[5]='..(v.LeftLeg or 0)..',[6]='..(v.Head or 0)..'}}')table.insert(w,'    pcall(function() game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(bodyArgs)) end)')local B=BrickColor.new(v.HeadColor)table.insert(w,'    wait(0.4)')table.insert(w,'    local colorArgs = {[1] = "'..tostring(B)..'"}')table.insert(w,'    pcall(function() game:GetService("ReplicatedStorage").Remotes.ChangeBodyColor:FireServer(unpack(colorArgs)) end)')table.insert(w,'end; applyOutfit()')return table.concat(w,"\n")end;function generateCatalogScript(v)local C={}local function D(E)return string.format('{["b"]=%f,["IsRGBTable"]=true,["g"]=%f,["r"]=%f}',E.B*255,E.G*255,E.R*255)end;local function F(G)return string.format('{["Y"]=%f,["X"]=%f,["Z"]=%f,["Vector3"]=true}',G.Y,G.X,G.Z)end;local H={HatAccessory={},FaceAccessory={},HairAccessory={},WaistAccessory={},ShouldersAccessory={},NeckAccessory={},FrontAccessory={},BackAccessory={}}local I={}for y,z in ipairs(v:GetAccessories(true))do local J=z.AccessoryType.Name.."Accessory"if H[J]then table.insert(H[J],tostring(z.AssetId))end;if z.Order and z.Order~=0 then table.insert(I,string.format('{["Rotation"]=%s,["AssetId"]=%d,["AccessoryType"]="%s",["Position"]=%s,["Order"]=%d,["IsLayered"]=true,["Puffiness"]=%f,["Scale"]=%s}',F(z.Rotation),z.AssetId,z.AccessoryType.Name,F(z.Position),z.Order,z.Puffiness or 0,F(z.Scale)))end end;table.insert(C,string.format('["WalkAnimation"] = %d',v.WalkAnimation or 0))table.insert(C,string.format('["MoodAnimation"] = %d',v.MoodAnimation or 0))table.insert(C,string.format('["ClimbAnimation"] = %d',v.ClimbAnimation or 0))table.insert(C,string.format('["FallAnimation"] = %d',v.FallAnimation or 0))table.insert(C,string.format('["RunAnimation"] = %d',v.RunAnimation or 0))table.insert(C,string.format('["SwimAnimation"] = %d',v.SwimAnimation or 0))table.insert(C,string.format('["IdleAnimation"] = %d',v.IdleAnimation or 0))table.insert(C,string.format('["JumpAnimation"] = %d',v.JumpAnimation or 0))table.insert(C,string.format('["Face"] = %d',v.Face or 0))table.insert(C,string.format('["Shirt"] = %d',v.Shirt or 0))table.insert(C,string.format('["Pants"] = %d',v.Pants or 0))table.insert(C,string.format('["GraphicTShirt"] = %d',v.GraphicTShirt or 0))table.insert(C,string.format('["Head"] = %d',v.Head or 0))table.insert(C,string.format('["Torso"] = %d',v.Torso or 0))table.insert(C,string.format('["LeftArm"] = %d',v.LeftArm or 0))table.insert(C,string.format('["RightArm"] = %d',v.RightArm or 0))table.insert(C,string.format('["LeftLeg"] = %d',v.LeftLeg or 0))table.insert(C,string.format('["RightLeg"] = %d',v.RightLeg or 0))table.insert(C,string.format('["ProportionScale"] = %f',v.ProportionScale))table.insert(C,string.format('["DepthScale"] = %f',v.DepthScale))table.insert(C,string.format('["HeightScale"] = %f',v.HeightScale))table.insert(C,string.format('["WidthScale"] = %f',v.WidthScale))table.insert(C,string.format('["BodyTypeScale"] = %f',v.BodyTypeScale))table.insert(C,string.format('["HeadScale"] = %f',v.HeadScale))table.insert(C,string.format('["HeadColor"] = %s',D(v.HeadColor)))table.insert(C,string.format('["TorsoColor"] = %s',D(v.TorsoColor)))table.insert(C,string.format('["LeftArmColor"] = %s',D(v.LeftArmColor)))table.insert(C,string.format('["RightArmColor"] = %s',D(v.RightArmColor)))table.insert(C,string.format('["LeftLegColor"] = %s',D(v.LeftLegColor)))table.insert(C,string.format('["RightLegColor"] = %s',D(v.RightLegColor)))for J,K in pairs(H)do if#K>0 then table.insert(C,string.format('["%s"] = "%s"',J,table.concat(K,",")))end end;if#I>0 then table.insert(C,'["LayeredAccessories"] = {'..table.concat(I,",")..'}')end;table.insert(C,'["AccessoryRefinements"] = {}')local L=1;local M=string.format([[local lP=game:GetService("Players").LocalPlayer;local h=lP.Character and lP.Character:FindFirstChildOfClass("Humanoid");if h and h.RigType.Value~=%d then game:GetService("ReplicatedStorage").CatalogGuiRemote:InvokeServer({["Action"]="ChangeRig",["RigType"]=h.RigType.Value==0 and 1 or 0});wait(1)end]],L)local N=[[game:GetService("ReplicatedStorage").CatalogGuiRemote:InvokeServer({["Action"]="ResetSomeHumanoidDescriptionProperties",["PropertyNames"]={"ClimbAnimation","FallAnimation","IdleAnimation","JumpAnimation","RunAnimation","SwimAnimation","WalkAnimation","MoodAnimation","Head","LeftArm","LeftLeg","RightArm","RightLeg","Torso","GraphicTShirt","Pants","Shirt","Face","BackAccessory","FaceAccessory","FrontAccessory","HairAccessory","HatAccessory","NeckAccessory","ShouldersAccessory","WaistAccessory"},["ResetLayeredClothing"]=true});wait(0.5)]]local O=string.format('game:GetService("ReplicatedStorage").CatalogGuiRemote:InvokeServer({["Properties"]={%s},["Action"]="CreateAndWearHumanoidDescription",["RigType"]=%d})',table.concat(C,","),L)return M.."\n"..N.."\n"..O end;local P=Instance.new("ScreenGui")P.Name="LocalAvatarBridge"P.ResetOnSpawn=false;local Q=Instance.new("Frame")Q.Size=UDim2.new(0,450,0,180)Q.Position=UDim2.new(0.5,-225,0.5,-90)Q.BackgroundColor3=Color3.fromRGB(35,35,45)Q.BorderColor3=Color3.fromRGB(0,170,255)Q.Draggable=true;Q.Active=true;Q.Parent=P;local R=Instance.new("Frame")R.Size=UDim2.new(1,0,0,50)R.BackgroundColor3=Color3.fromRGB(25,25,35)R.BorderSizePixel=0;R.Parent=Q;local S=Instance.new("TextLabel")S.Size=UDim2.new(0.8,0,0.6,0)S.Position=UDim2.new(0.05,0,0.05,0)S.BackgroundTransparency=1;S.Font=Enum.Font.GothamBold;S.Text="Puente de Avatares Local"S.TextColor3=Color3.new(1,1,1)S.TextScaled=true;S.TextXAlignment=Enum.TextXAlignment.Left;S.Parent=R;local T=Instance.new("TextLabel")T.Size=UDim2.new(0.8,0,0.4,0)T.Position=UDim2.new(0.05,0,0.55,0)T.BackgroundTransparency=1;T.Font=Enum.Font.Gotham;T.Text="By xsolito_rbl"T.TextColor3=Color3.fromRGB(0,170,255)T.TextScaled=true;T.TextXAlignment=Enum.TextXAlignment.Left;T.Parent=R;local U=Instance.new("TextButton")U.Size=UDim2.new(0,25,0,25)U.Position=UDim2.new(1,-35,0,5)U.BackgroundColor3=Color3.fromRGB(255,80,80)U.Font=Enum.Font.GothamBold;U.Text="X"U.TextColor3=Color3.new(1,1,1)U.Parent=R;Instance.new("UICorner",U).CornerRadius=UDim.new(0,4)local V=Instance.new("TextButton")V.Size=UDim2.new(0.5,-10,1,-110)V.Position=UDim2.new(0,10,0,55)V.BackgroundColor3=Color3.fromRGB(0,170,255)V.Font=Enum.Font.GothamBold;V.Text="Guardar Avatar Local"V.TextColor3=Color3.new(1,1,1)V.TextScaled=true;V.Parent=Q;Instance.new("UICorner",V).CornerRadius=UDim.new(0,6)local W=Instance.new("TextButton")W.Size=UDim2.new(0.5,-10,1,-110)W.Position=UDim2.new(0.5,0,0,55)W.BackgroundColor3=Color3.fromRGB(15,135,75)W.Font=Enum.Font.GothamBold;W.Text="Cargar Avatar Local"W.TextColor3=Color3.new(1,1,1)W.TextScaled=true;W.Parent=Q;Instance.new("UICorner",W).CornerRadius=UDim.new(0,6)U.MouseButton1Click:Connect(function()P:Destroy()end)V.MouseButton1Click:Connect(function()if not(writefile and isfolder and makefolder)then f:SetCore("SendNotification",{Title="Error",Text="Tu executor no soporta 'writefile' o 'makefolder'."})return end;local X=h.Character;if not X or not X:FindFirstChild("Humanoid")then return end;local v=X.Humanoid:GetAppliedDescription()local Y,Z;if e:FindFirstChild("CatalogGuiRemote")then Z="BROOKHAVEN"Y=generateBrookhavenScript(v)elseif e:FindFirstChild("Remotes")and e.Remotes:FindFirstChild("Wear")then Z="CATALOG"Y=generateCatalogScript(v)else return end;local _={script=p(Y,h.UserId),target=Z,user=h.Name}if not isfolder(c)then makefolder(c)end;local a0=c.."/"..tostring(h.UserId)..".json"pcall(writefile,a0,g:JSONEncode(_))f:SetCore("SendNotification",{Title="¡Guardado!",Text="Tu avatar se guardó en la carpeta "..c})P:Destroy()end)W.MouseButton1Click:Connect(function()if not(readfile and isfile)then f:SetCore("SendNotification",{Title="Error",Text="Tu executor no soporta 'readfile'."})return end;local a0=c.."/"..tostring(h.UserId)..".json"if not isfile(a0)then f:SetCore("SendNotification",{Title="Error",Text="No se encontró un avatar guardado para tu usuario."})return end;local a1,a2=pcall(readfile,a0)if not a1 or not a2 then f:SetCore("SendNotification",{Title="Error",Text="No se pudo leer el archivo de guardado."})return end;local a3=g:JSONDecode(a2)if a3 and a3.script then local Z=a3.target;local a4=false;if Z=="BROOKHAVEN"and e:FindFirstChild("Remotes")and e.Remotes:FindFirstChild("Wear")then a4=true elseif Z=="CATALOG"and e:FindFirstChild("CatalogGuiRemote")then a4=true end;if a4 then local a5=p(a3.script,h.UserId)pcall(loadstring(a5))f:SetCore("SendNotification",{Title="¡Éxito!",Text="Avatar de "..(a3.user or"usuario").." cargado."})P:Destroy()else f:SetCore("SendNotification",{Title="Error de Destino",Text="El avatar guardado es para otro juego."})end else f:SetCore("SendNotification",{Title="Error",Text="El archivo de guardado está corrupto."})end end)P.Parent=h:WaitForChild("PlayerGui")
